---
layout: default
title: Quikly Script Tag for Referral Conversion
noindex: true
---

<nav>
  <ul>
    <li><a href="{% link examples/index.html %}">&lt; Back to Examples</a></li>
  </ul>
</nav>

<script async src="https://pixel.quiklydemo.com/embed/js"></script>
<script>
  window.qDataLayer = window.qDataLayer || [];
  function qData() {
    qDataLayer.push(arguments);
  }
  qData("config", "m/GxPhBA");
  function triggerEvent(action) {
    customerId = document.getElementById('customerId').value
    qData(action, { customerId: customerId });
  }

  function triggerEvent() {
    qData("coffee_club", { customerId: "12345" });
  }
</script>

<header>
  <h1>Tracking Conversions from Social Referrals </h1>
</header>


<section>
  <h2>Overview</h2>
  <p>Quikly can provide a microsite that encourages customers to invite their friends to take an action on the brand's website, such as sign up for a paid service, loyalty membership, credit card, etc. Participants are provided with unique referral links that they can share via email, text message, or online. When someone visits a referral link, they are redirected to the brand's website along with a referral code in the URL. This referral code is recorded by the Quikly script tag on your site. Finally, when the referred visitor completes the intended action, the script tag is used to track the event. Quikly can then reward the referring user with an incentive or report the referral back in a batched report.
  </p>
</section>

<section>
  <h2>Scenario</h2>
  <p>A brand would like to ask their existing loyalty members to invite their friends to sign up for the loyalty program, too. They will offer a $5 discount on a future order for the first 2 friends they get to sign up. </p>
</section>

<section>
  <h2>Set Up</h2>
  <p>Quikly will work with you to set up the referral microsite where people can participate, access their referral links, and track how many people they have referred.</p>

  <h3>Script Tag</h3>
  <p>The Quikly script tag must be present on the landing page of your site where referred visitors first land. This captures the unique identifier from the referring user to associate with the conversion.</p>
{% highlight js %}<script async src="https://pixel.quiklydemo.com/embed/js"></script>
<script>
  window.qDataLayer = window.qDataLayer || [];
  function qData() {
    qDataLayer.push(arguments);
  }
  qData('config', 'm/GxPhBA');
</script>
{% endhighlight %}

<p>Then, when the referred user completes the action, trigger the event along with any relevant data:</p>
{% highlight js %}<script>
  qData('coffee_club', { customerId: 123456 });
</script>
{% endhighlight %}

<figure class="highlight demo">
  <h3>Try It</h3>
  <p>You must visit a referral link in order to track the event when it is triggered:</p>
  <p></p><a href="https://www.quiklydemo.com/mypanera-coffee-subscription/s/mayYGQML">https://www.quiklydemo.com/mypanera-coffee-subscription/s/mayYGQML</a></p>

  <ul>
    <li>
      <input type="customerId" name="customerId" id="customerId" placeholder="Enter customerId" />
    </li>
    <li>
      <button onclick="triggerEvent('coffee_club');">Click to complete the 'coffee_club' action</button>
    </li>
  </ul>

</figure>

</section>

<section>
  <h2>Set Up</h2>
  <ul>
    <li>Campaign
      <ul>
        <li>Enable UI: FALSE</li>
        <li>Cooke not required: FALSE</li>
        <li>Usually we want to use a custom segment for these campaigns, but it's not required.</li>
        <li>Set up pixel, set the code (i.e. 'coffee_club') and add 'customerId' to accepted client parameters</li>
        <li>Add a Claim rule for 'pixel_goal' with min count set to 0 (unlimited)</li>
      </ul>
    </li>
    <li>Deal
      <ul>
        <li>Start at date in the past</li>
      </ul>
    </li>
  </ul>
</section>

<section>
  <h2>Demo</h2>
  <ul>
    <li>Campaign Id: 508</li>
  </ul>
</section>





